<?xml version="1.0" encoding="utf-8"?>
<androidx.core.widget.NestedScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:fillViewport="true"
    android:background="?attr/colorSurface"
    tools:context=".ProductListActivity">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="8dp">

        <!-- Header -->
        <include
            layout="@layout/header"
            android:layout_width="match_parent"
            android:layout_height="wrap_content" />
        <!-- Thanh điều khiển: Search + Filter -->

        <LinearLayout
            android:id="@+id/layoutCustomBack"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:padding="8dp"
            android:gravity="center_vertical">

            <ImageButton
                android:id="@+id/btnBack"
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:background="@android:color/transparent"
                android:src="@drawable/ic_arrow_back"
                android:tint="#000" />

            <TextView
                android:id="@+id/tvHeaderTitle"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="ALL PRODUCTS"
                android:textStyle="bold"
                android:textSize="20sp"
                android:textColor="#000"
                android:layout_marginStart="8dp" />
        </LinearLayout>
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="end"
            android:paddingHorizontal="8dp"
            android:layout_marginTop="6dp">

            <!-- Nút tìm kiếm -->
            <ImageButton
                android:id="@+id/btnSearch"
                android:layout_width="36dp"
                android:layout_height="36dp"
                android:background="@android:color/transparent"
                android:src="@drawable/ic_search"
                android:tint="?attr/colorOnSurface" />

            <!-- Nút lọc -->
            <ImageButton
                android:id="@+id/btnFilter"
                android:layout_width="36dp"
                android:layout_height="36dp"
                android:background="@android:color/transparent"
                android:src="@drawable/ic_filter"
                android:tint="?attr/colorOnSurface"
                android:layout_marginStart="4dp" />

        </LinearLayout>

        <!-- Mô tả danh mục -->
        <com.google.android.material.textview.MaterialTextView
            android:id="@+id/tvCategoryDesc"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Thể hiện phong cách riêng của bạn với những chiếc charm độc đáo từ Pandora. Lựa chọn giữa bạc, vàng hồng 14k hoặc vàng 14k, và tạo dấu ấn riêng với khắc tên theo yêu cầu."
            android:textAppearance="@style/TextAppearance.Material3.BodyMedium"
            android:textColor="?attr/colorOnSurfaceVariant"
            android:lineSpacingExtra="3dp"
            android:paddingHorizontal="8dp"
            android:layout_marginBottom="4dp" />

        <!-- Số lượng sản phẩm -->
        <com.google.android.material.textview.MaterialTextView
            android:id="@+id/tvProductCount"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Hiện có 1300 sản phẩm"
            android:textAppearance="@style/TextAppearance.Material3.LabelMedium"
            android:textColor="?attr/colorOnSurfaceVariant"
            android:layout_marginStart="8dp"
            android:layout_marginBottom="8dp" />

        <!-- Danh sách sản phẩm -->
        <androidx.recyclerview.widget.RecyclerView
            android:id="@+id/recyclerCategoryProducts"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:nestedScrollingEnabled="false"
            android:scrollbars="none"
            android:paddingHorizontal="4dp" />

        <!-- Nút Xem Thêm -->
        <com.google.android.material.button.MaterialButton
            android:id="@+id/btnLoadMore"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="XEM THÊM"
            android:textAppearance="@style/TextAppearance.Material3.LabelLarge"
            android:textStyle="bold"
            style="@style/Widget.Material3.Button.OutlinedButton"
            app:cornerRadius="20dp"
            android:layout_gravity="center"
            android:layout_marginVertical="12dp" />

        <!-- Footer -->
        <include
            layout="@layout/layout_footer"
            android:layout_width="match_parent"
            android:layout_height="wrap_content" />

    </LinearLayout>
</androidx.core.widget.NestedScrollView>